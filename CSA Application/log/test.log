  [1m[36m (31.6ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "surname" varchar(255) NOT NULL, "firstname" varchar(255) NOT NULL, "phone" varchar(255), "grad_year" integer NOT NULL, "jobs" boolean DEFAULT 'f', "email" varchar(255) NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.1ms)[0m  CREATE INDEX "index_users_on_email" ON "users" ("email")
  [1m[36m (1.3ms)[0m  [1mCREATE INDEX "index_users_on_surname" ON "users" ("surname")[0m
  [1m[35m (1.5ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (1.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130822131811')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (48.7ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "surname" varchar(255) NOT NULL, "firstname" varchar(255) NOT NULL, "phone" varchar(255), "grad_year" integer NOT NULL, "jobs" boolean DEFAULT 'f', "email" varchar(255) NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (11.8ms)[0m  CREATE INDEX "index_users_on_email" ON "users" ("email")
  [1m[36m (1.3ms)[0m  [1mCREATE INDEX "index_users_on_surname" ON "users" ("surname")[0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (1.6ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130822131811')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, 'f', 'MyString', '2013-08-23 14:09:37', '2013-08-23 14:09:37', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, 'f', 'MyString', '2013-08-23 14:09:37', '2013-08-23 14:09:37', 298486374)[0m
  [1m[35m (10.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (2.2ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "surname" varchar(255) NOT NULL, "firstname" varchar(255) NOT NULL, "phone" varchar(255), "grad_year" integer NOT NULL, "jobs" boolean DEFAULT 'f', "email" varchar(255) NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.6ms)[0m  CREATE INDEX "index_users_on_email" ON "users" ("email")
  [1m[36m (2.2ms)[0m  [1mCREATE INDEX "index_users_on_surname" ON "users" ("surname")[0m
  [1m[35m (1.5ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (1.4ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130822131811')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, 'f', 'MyString', '2013-08-23 14:11:35', '2013-08-23 14:11:35', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, 'f', 'MyString', '2013-08-23 14:11:35', '2013-08-23 14:11:35', 298486374)[0m
  [1m[35m (11.9ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (1.9ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "surname" varchar(255) NOT NULL, "firstname" varchar(255) NOT NULL, "phone" varchar(255), "grad_year" integer NOT NULL, "jobs" boolean DEFAULT 'f', "email" varchar(255) NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.3ms)[0m  CREATE INDEX "index_users_on_email" ON "users" ("email")
  [1m[36m (1.2ms)[0m  [1mCREATE INDEX "index_users_on_surname" ON "users" ("surname")[0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (1.4ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.2ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130822131811')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2013-08-23 14:13:58', '2013-08-23 14:13:58', 980190962)
  [1m[36m (5.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[36mUser Load (12.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (168.6ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "surname" varchar(255) NOT NULL, "firstname" varchar(255) NOT NULL, "phone" varchar(255), "grad_year" integer NOT NULL, "jobs" boolean DEFAULT 'f', "email" varchar(255) NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (103.6ms)[0m  CREATE INDEX "index_users_on_email" ON "users" ("email")
  [1m[36m (128.8ms)[0m  [1mCREATE INDEX "index_users_on_surname" ON "users" ("surname")[0m
  [1m[35m (161.6ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (15.8ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130822131811')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2013-08-23 14:15:53', '2013-08-23 14:15:53', 980190962)
  [1m[36m (11.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (111.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (38.3ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "surname" varchar(255) NOT NULL, "firstname" varchar(255) NOT NULL, "phone" varchar(255), "grad_year" integer NOT NULL, "jobs" boolean DEFAULT 'f', "email" varchar(255) NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.8ms)[0m  CREATE INDEX "index_users_on_email" ON "users" ("email")
  [1m[36m (1.6ms)[0m  [1mCREATE INDEX "index_users_on_surname" ON "users" ("surname")[0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (1.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.2ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130822131811')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2013-08-23 14:18:09', '2013-08-23 14:18:09', 980190962)
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered users/_form.html.erb (155.8ms)
  Rendered users/new.html.erb within layouts/application (168.0ms)
  Rendered sessions/_login.html.erb (18.1ms)
Completed 200 OK in 9189ms (Views: 9012.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "980190962"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (23.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users?page=1
Completed 302 Found in 29ms (ActiveRecord: 24.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (10.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "980190962"]]
  Rendered users/_form.html.erb (7.2ms)
  Rendered sessions/_login.html.erb (0.3ms)
Completed 200 OK in 16ms (Views: 15.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY surname, firstname LIMIT 8 OFFSET 0[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" ORDER BY surname, firstname LIMIT 1 OFFSET 0
  Rendered sessions/_login.html.erb (0.2ms)
Completed 200 OK in 104ms (Views: 88.0ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#new as HTML
  Rendered users/_form.html.erb (5.1ms)
  Rendered sessions/_login.html.erb (0.3ms)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "980190962"]]
  Rendered sessions/_login.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "980190962"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 980190962) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users?page=1
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (48.6ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "surname" varchar(255) NOT NULL, "firstname" varchar(255) NOT NULL, "phone" varchar(255), "grad_year" integer NOT NULL, "jobs" boolean DEFAULT 'f', "email" varchar(255) NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.4ms)[0m  CREATE INDEX "index_users_on_email" ON "users" ("email")
  [1m[36m (1.3ms)[0m  [1mCREATE INDEX "index_users_on_surname" ON "users" ("surname")[0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (1.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130822131811')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2013-08-23 14:23:45', '2013-08-23 14:23:45', 980190962)
  [1m[36m (227.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1
  [1m[36mSQL (1001.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Fri, 23 Aug 2013 14:23:46 UTC +00:00], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", Fri, 23 Aug 2013 14:23:46 UTC +00:00]]
  [1m[35m (57.7ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 1197ms (ActiveRecord: 1060.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (83.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "980190962"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (6.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users?page=1
Completed 302 Found in 10ms (ActiveRecord: 6.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (4.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "980190962"]]
  Rendered users/_form.html.erb (73.0ms)
  Rendered sessions/_login.html.erb (117.7ms)
Completed 200 OK in 1521ms (Views: 1518.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" ORDER BY surname, firstname LIMIT 8 OFFSET 0
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY surname, firstname LIMIT 1 OFFSET 0[0m
  Rendered sessions/_login.html.erb (0.2ms)
Completed 200 OK in 18ms (Views: 17.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#new as HTML
  Rendered users/_form.html.erb (5.8ms)
  Rendered sessions/_login.html.erb (0.3ms)
Completed 200 OK in 13ms (Views: 12.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "980190962"]]
  Rendered sessions/_login.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"980190962"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "980190962"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT 1 AS one FROM "users" WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 980190962) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users?page=1
Completed 302 Found in 198ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (44.0ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "surname" varchar(255) NOT NULL, "firstname" varchar(255) NOT NULL, "phone" varchar(255), "grad_year" integer NOT NULL, "jobs" boolean DEFAULT 'f', "email" varchar(255) NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.1ms)[0m  CREATE INDEX "index_users_on_email" ON "users" ("email")
  [1m[36m (1.1ms)[0m  [1mCREATE INDEX "index_users_on_surname" ON "users" ("surname")[0m
  [1m[35m (1.9ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (1.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130822131811')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2013-08-23 14:26:53', '2013-08-23 14:26:53', 980190962)
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1
  [1m[36mSQL (48.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Fri, 23 Aug 2013 14:26:53 UTC +00:00], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", Fri, 23 Aug 2013 14:26:53 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 65ms (ActiveRecord: 49.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "980190962"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users?page=1
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "980190962"]]
  Rendered users/_form.html.erb (23.3ms)
  Rendered sessions/_login.html.erb (0.7ms)
Completed 200 OK in 300ms (Views: 299.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" ORDER BY surname, firstname LIMIT 8 OFFSET 0
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY surname, firstname LIMIT 1 OFFSET 0[0m
  Rendered sessions/_login.html.erb (0.3ms)
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#new as HTML
  Rendered users/_form.html.erb (5.5ms)
  Rendered sessions/_login.html.erb (0.2ms)
Completed 200 OK in 12ms (Views: 11.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "980190962"]]
  Rendered sessions/_login.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "980190962"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT 1 AS one FROM "users" WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 980190962) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users?page=1
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "surname" varchar(255) NOT NULL, "firstname" varchar(255) NOT NULL, "phone" varchar(255), "grad_year" integer NOT NULL, "jobs" boolean DEFAULT 'f', "email" varchar(255) NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.4ms)[0m  CREATE INDEX "index_users_on_email" ON "users" ("email")
  [1m[36m (1.2ms)[0m  [1mCREATE INDEX "index_users_on_surname" ON "users" ("surname")[0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (1.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130822131811')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2013-08-23 14:31:03', '2013-08-23 14:31:03', 980190962)
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1
  [1m[36mSQL (242.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Fri, 23 Aug 2013 14:31:03 UTC +00:00], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", Fri, 23 Aug 2013 14:31:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 271ms (ActiveRecord: 243.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "980190962"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users?page=1
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "980190962"]]
  Rendered users/_form.html.erb (126.0ms)
  Rendered sessions/_login.html.erb (10.9ms)
Completed 200 OK in 990ms (Views: 988.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" ORDER BY surname, firstname LIMIT 8 OFFSET 0
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY surname, firstname LIMIT 1 OFFSET 0[0m
  Rendered sessions/_login.html.erb (0.2ms)
Completed 200 OK in 44ms (Views: 42.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#new as HTML
  Rendered users/_form.html.erb (6.2ms)
  Rendered sessions/_login.html.erb (0.2ms)
Completed 200 OK in 12ms (Views: 11.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "980190962"]]
  Rendered sessions/_login.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "980190962"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT 1 AS one FROM "users" WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 980190962) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users?page=1
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (245.7ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "surname" varchar(255) NOT NULL, "firstname" varchar(255) NOT NULL, "phone" varchar(255), "grad_year" integer NOT NULL, "jobs" boolean DEFAULT 'f', "email" varchar(255) NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (164.6ms)[0m  CREATE INDEX "index_users_on_email" ON "users" ("email")
  [1m[36m (124.5ms)[0m  [1mCREATE INDEX "index_users_on_surname" ON "users" ("surname")[0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (1.0ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130822131811')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2013-08-23 14:32:49', '2013-08-23 14:32:49', 980190962)
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1
  [1m[36mSQL (62.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Fri, 23 Aug 2013 14:32:49 UTC +00:00], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", Fri, 23 Aug 2013 14:32:49 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 89ms (ActiveRecord: 63.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "980190962"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users?page=1
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "980190962"]]
  Rendered users/_form.html.erb (21.1ms)
  Rendered sessions/_login.html.erb (18.5ms)
Completed 200 OK in 495ms (Views: 493.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" ORDER BY surname, firstname LIMIT 8 OFFSET 0
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY surname, firstname LIMIT 1 OFFSET 0[0m
  Rendered sessions/_login.html.erb (0.2ms)
Completed 200 OK in 18ms (Views: 15.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#new as HTML
  Rendered users/_form.html.erb (6.1ms)
  Rendered sessions/_login.html.erb (0.2ms)
Completed 200 OK in 12ms (Views: 11.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "980190962"]]
  Rendered sessions/_login.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "980190962"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT 1 AS one FROM "users" WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 980190962) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/980190962?page=1
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (165.2ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "surname" varchar(255) NOT NULL, "firstname" varchar(255) NOT NULL, "phone" varchar(255), "grad_year" integer NOT NULL, "jobs" boolean DEFAULT 'f', "email" varchar(255) NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.3ms)[0m  CREATE INDEX "index_users_on_email" ON "users" ("email")
  [1m[36m (1.5ms)[0m  [1mCREATE INDEX "index_users_on_surname" ON "users" ("surname")[0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (1.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130822131811')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2013-08-23 14:36:02', '2013-08-23 14:36:02', 980190962)
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1
  [1m[36mSQL (68.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Fri, 23 Aug 2013 14:36:02 UTC +00:00], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", Fri, 23 Aug 2013 14:36:02 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 85ms (ActiveRecord: 69.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "980190962"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users?page=1
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "980190962"]]
  Rendered users/_form.html.erb (22.7ms)
  Rendered sessions/_login.html.erb (23.3ms)
Completed 200 OK in 503ms (Views: 501.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" ORDER BY surname, firstname LIMIT 8 OFFSET 0
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY surname, firstname LIMIT 1 OFFSET 0[0m
  Rendered sessions/_login.html.erb (0.2ms)
Completed 200 OK in 21ms (Views: 18.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#new as HTML
  Rendered users/_form.html.erb (7.2ms)
  Rendered sessions/_login.html.erb (0.2ms)
Completed 200 OK in 12ms (Views: 11.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "980190962"]]
  Rendered sessions/_login.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"980190962"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "980190962"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT 1 AS one FROM "users" WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 980190962) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/980190962?page=1
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (4.3ms)[0m  [1mCREATE TABLE "broadcasts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.7ms)[0m  [1mCREATE  INDEX "index_broadcasts_on_user_id" ON "broadcasts" ("user_id")[0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "broadcasts_feeds" ("broadcast_id" integer, "feed_id" integer) 
  [1m[36m (0.9ms)[0m  [1mCREATE  INDEX "index_broadcasts_feeds_on_broadcast_id" ON "broadcasts_feeds" ("broadcast_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_broadcasts_feeds_on_broadcast_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_broadcasts_feeds_on_broadcast_id' AND type='index'

  [1m[36m (0.9ms)[0m  [1mCREATE  INDEX "index_broadcasts_feeds_on_feed_id" ON "broadcasts_feeds" ("feed_id")[0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "feeds" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "photo_file_name" varchar(255), "photo_content_type" varchar(255), "photo_file_size" integer, "photo_updated_at" datetime) [0m
  [1m[35m (0.8ms)[0m  CREATE  INDEX "index_images_on_user_id" ON "images" ("user_id")
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "user_details" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "salt" varchar(40), "crypted_password" varchar(40), "user_id" integer) [0m
  [1m[35m (0.8ms)[0m  CREATE  INDEX "index_user_details_on_user_id" ON "user_details" ("user_id")
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "surname" varchar(255) NOT NULL, "firstname" varchar(255) NOT NULL, "phone" varchar(255), "grad_year" integer NOT NULL, "jobs" boolean DEFAULT 'f', "email" varchar(255) NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.8ms)[0m  CREATE  INDEX "index_users_on_email" ON "users" ("email")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.7ms)[0m  CREATE  INDEX "index_users_on_surname" ON "users" ("surname")
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130904124852')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130822131811')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130829090623')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130829103702')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130903103221')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130904124833')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "broadcasts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-11-30 14:04:10', '2014-11-30 14:04:10', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-11-30 14:04:10', '2014-11-30 14:04:10', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-11-30 14:04:10', '2014-11-30 14:04:10', 980190962)[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-11-30 14:05:57', '2014-11-30 14:05:57', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-11-30 14:05:57', '2014-11-30 14:05:57', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-11-30 14:05:57', '2014-11-30 14:05:57', 980190962)
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-11-30 14:10:56', '2014-11-30 14:10:56', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-11-30 14:10:56', '2014-11-30 14:10:56', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-11-30 14:10:56', '2014-11-30 14:10:56', 980190962)
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-12-03 14:55:45', '2014-12-03 14:55:45', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-12-03 14:55:45', '2014-12-03 14:55:45', 298486374)
  [1m[36mFixture Delete (1.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 14:55:45', '2014-12-03 14:55:45', 980190962)
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 11ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"MyText", "user_id"=>nil}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
BroadcastsControllerTest: test_should_get_edit
----------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_update_broadcast
------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-12-03 15:07:58', '2014-12-03 15:07:58', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-12-03 15:07:58', '2014-12-03 15:07:58', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 15:07:58', '2014-12-03 15:07:58', 980190962)
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"MyText", "user_id"=>nil}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
BroadcastsControllerTest: test_should_get_edit
----------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_update_broadcast
------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-12-03 15:13:18', '2014-12-03 15:13:18', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-12-03 15:13:18', '2014-12-03 15:13:18', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 15:13:18', '2014-12-03 15:13:18', 980190962)
  [1m[36m (3.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (9.5ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"MyText", "user_id"=>nil}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
BroadcastsControllerTest: test_should_get_edit
----------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_update_broadcast
------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-12-03 15:15:09', '2014-12-03 15:15:09', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-12-03 15:15:09', '2014-12-03 15:15:09', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 15:15:09', '2014-12-03 15:15:09', 980190962)
  [1m[36m (3.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"MyText", "user_id"=>nil}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
BroadcastsControllerTest: test_should_get_edit
----------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_update_broadcast
------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-12-03 15:18:59', '2014-12-03 15:18:59', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-12-03 15:18:59', '2014-12-03 15:18:59', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 15:18:59', '2014-12-03 15:18:59', 980190962)
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 10ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"MyText", "user_id"=>nil}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
BroadcastsControllerTest: test_should_get_edit
----------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_update_broadcast
------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-12-03 15:19:15', '2014-12-03 15:19:15', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-12-03 15:19:15', '2014-12-03 15:19:15', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 15:19:15', '2014-12-03 15:19:15', 980190962)
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"MyText", "user_id"=>nil}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
BroadcastsControllerTest: test_should_get_edit
----------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_update_broadcast
------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-12-03 15:22:18', '2014-12-03 15:22:18', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-12-03 15:22:18', '2014-12-03 15:22:18', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 15:22:18', '2014-12-03 15:22:18', 980190962)
  [1m[36m (3.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"MyText", "user_id"=>nil}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-12-03 15:29:37', '2014-12-03 15:29:37', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-12-03 15:29:37', '2014-12-03 15:29:37', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 15:29:37', '2014-12-03 15:29:37', 980190962)
  [1m[36m (4.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 11ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"MyText", "user_id"=>nil}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-12-03 15:29:57', '2014-12-03 15:29:57', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-12-03 15:29:57', '2014-12-03 15:29:57', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 15:29:57', '2014-12-03 15:29:57', 980190962)
  [1m[36m (3.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"MyText", "user_id"=>nil}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (1.2ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-12-03 15:30:32', '2014-12-03 15:30:32', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-12-03 15:30:32', '2014-12-03 15:30:32', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 15:30:32', '2014-12-03 15:30:32', 980190962)
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"MyText", "user_id"=>nil}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-12-03 15:35:47', '2014-12-03 15:35:47', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-12-03 15:35:47', '2014-12-03 15:35:47', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 15:35:47', '2014-12-03 15:35:47', 980190962)
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"MyText", "user_id"=>nil}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"980190962", "email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-12-03 15:42:39', '2014-12-03 15:42:39', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('MyText', NULL, '2014-12-03 15:42:39', '2014-12-03 15:42:39', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 15:42:39', '2014-12-03 15:42:39', 980190962)
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"MyText", "user_id"=>nil}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"980190962", "email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (1.4ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 41, '2014-12-03 16:00:21', '2014-12-03 16:00:21', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 42, '2014-12-03 16:00:21', '2014-12-03 16:00:21', 298486374)
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 16:00:21', '2014-12-03 16:00:21', 980190962)
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 11ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (10.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"41"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 41, '2014-12-03 16:04:31', '2014-12-03 16:04:31', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 42, '2014-12-03 16:04:31', '2014-12-03 16:04:31', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 16:04:31', '2014-12-03 16:04:31', 980190962)
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"41"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 41, '2014-12-03 16:05:20', '2014-12-03 16:05:20', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 42, '2014-12-03 16:05:20', '2014-12-03 16:05:20', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 16:05:20', '2014-12-03 16:05:20', 980190962)
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"41"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"980190962", "email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 41, '2014-12-03 16:14:03', '2014-12-03 16:14:03', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 42, '2014-12-03 16:14:03', '2014-12-03 16:14:03', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 16:14:03', '2014-12-03 16:14:03', 980190962)
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 21ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 41, '2014-12-03 16:14:28', '2014-12-03 16:14:28', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 42, '2014-12-03 16:14:28', '2014-12-03 16:14:28', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 16:14:28', '2014-12-03 16:14:28', 980190962)
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mBroadcast Load (0.4ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"41"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 41, '2014-12-03 16:14:36', '2014-12-03 16:14:36', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 42, '2014-12-03 16:14:36', '2014-12-03 16:14:36', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 16:14:36', '2014-12-03 16:14:36', 980190962)
  [1m[36m (3.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 41, '2014-12-03 16:16:12', '2014-12-03 16:16:12', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 42, '2014-12-03 16:16:12', '2014-12-03 16:16:12', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 16:16:12', '2014-12-03 16:16:12', 980190962)
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."login" = 'admin' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"41"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."login" = 'admin' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."login" = 'admin' LIMIT 1[0m
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."login" = 'admin' LIMIT 1[0m
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."login" = 'admin' LIMIT 1[0m
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 41, '2014-12-03 16:18:08', '2014-12-03 16:18:08', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 42, '2014-12-03 16:18:08', '2014-12-03 16:18:08', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 16:18:08', '2014-12-03 16:18:08', 980190962)
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."login" = 'admin' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"41"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."login" = 'admin' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.2ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."login" = 'admin' LIMIT 1
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.4ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.3ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."login" = 'admin' LIMIT 1
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."login" = 'admin' LIMIT 1
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 41, '2014-12-03 16:28:09', '2014-12-03 16:28:09', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 42, '2014-12-03 16:28:09', '2014-12-03 16:28:09', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 16:28:09', '2014-12-03 16:28:09', 980190962)
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."login" = 'admin' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"41"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."login" = 'admin' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."login" = 'admin' LIMIT 1
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."login" = 'admin' LIMIT 1
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."login" = 'admin' LIMIT 1
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 41, '2014-12-03 16:32:26', '2014-12-03 16:32:26', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 42, '2014-12-03 16:32:26', '2014-12-03 16:32:26', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 16:32:26', '2014-12-03 16:32:26', 980190962)
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"41"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 41, '2014-12-03 16:33:59', '2014-12-03 16:33:59', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 42, '2014-12-03 16:33:59', '2014-12-03 16:33:59', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 16:33:59', '2014-12-03 16:33:59', 980190962)
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mBroadcast Load (0.3ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"41"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 41, '2014-12-03 16:34:26', '2014-12-03 16:34:26', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 42, '2014-12-03 16:34:26', '2014-12-03 16:34:26', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 16:34:26', '2014-12-03 16:34:26', 980190962)
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"41"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 41, '2014-12-03 16:36:09', '2014-12-03 16:36:09', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 42, '2014-12-03 16:36:09', '2014-12-03 16:36:09', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 16:36:09', '2014-12-03 16:36:09', 980190962)
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"41"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 41, '2014-12-03 16:36:57', '2014-12-03 16:36:57', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 42, '2014-12-03 16:36:57', '2014-12-03 16:36:57', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 16:36:57', '2014-12-03 16:36:57', 980190962)
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."login" = 'admin' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"41"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 41, '2014-12-03 16:37:35', '2014-12-03 16:37:35', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 42, '2014-12-03 16:37:35', '2014-12-03 16:37:35', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 16:37:35', '2014-12-03 16:37:35', 980190962)
  [1m[36m (3.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"41"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."login" = 'admin' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 41, '2014-12-03 16:41:38', '2014-12-03 16:41:38', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 42, '2014-12-03 16:41:38', '2014-12-03 16:41:38', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 16:41:38', '2014-12-03 16:41:38', 980190962)
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"41"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."login" = 'admin' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 41, '2014-12-03 16:41:54', '2014-12-03 16:41:54', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 42, '2014-12-03 16:41:54', '2014-12-03 16:41:54', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 16:41:54', '2014-12-03 16:41:54', 980190962)
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 10ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."login" = 'admin' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"41"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 41, '2014-12-03 16:44:34', '2014-12-03 16:44:34', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 42, '2014-12-03 16:44:34', '2014-12-03 16:44:34', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 16:44:34', '2014-12-03 16:44:34', 980190962)
  [1m[36m (3.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"41"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."login" = 'admin' LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 41]]
Completed 404 Not Found in 1ms
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 41, '2014-12-03 16:45:51', '2014-12-03 16:45:51', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 42, '2014-12-03 16:45:51', '2014-12-03 16:45:51', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 16:45:51', '2014-12-03 16:45:51', 980190962)
  [1m[36m (3.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."login" = 'admin' LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 404 Not Found in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"41"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 41, '2014-12-03 16:47:45', '2014-12-03 16:47:45', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 42, '2014-12-03 16:47:45', '2014-12-03 16:47:45', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 16:47:45', '2014-12-03 16:47:45', 980190962)
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."login" = 'admin' LIMIT 1[0m
Processing by UsersController#index as HTML
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 41]]
  Rendered users/_users_list.html.erb (11.4ms)
Completed 500 Internal Server Error in 28ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"41"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 41, '2014-12-03 16:50:52', '2014-12-03 16:50:52', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 42, '2014-12-03 16:50:52', '2014-12-03 16:50:52', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 16:50:52', '2014-12-03 16:50:52', 980190962)
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"41"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 41]]
  Rendered users/_users_list.html.erb (12.2ms)
Completed 500 Internal Server Error in 31ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 41, '2014-12-03 16:51:58', '2014-12-03 16:51:58', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 42, '2014-12-03 16:51:58', '2014-12-03 16:51:58', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 16:51:58', '2014-12-03 16:51:58', 980190962)
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 41]]
Completed 404 Not Found in 6ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"41"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 41, '2014-12-03 16:53:06', '2014-12-03 16:53:06', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 42, '2014-12-03 16:53:06', '2014-12-03 16:53:06', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 16:53:06', '2014-12-03 16:53:06', 980190962)
  [1m[36m (3.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 404 Not Found in 6ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"41"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 41, '2014-12-03 16:53:44', '2014-12-03 16:53:44', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 42, '2014-12-03 16:53:44', '2014-12-03 16:53:44', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 16:53:44', '2014-12-03 16:53:44', 980190962)
  [1m[36m (3.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 404 Not Found in 6ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"41"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 41, '2014-12-03 16:54:15', '2014-12-03 16:54:15', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 42, '2014-12-03 16:54:15', '2014-12-03 16:54:15', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 16:54:15', '2014-12-03 16:54:15', 980190962)
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 404 Not Found in 6ms
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"41"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 41, '2014-12-03 16:54:33', '2014-12-03 16:54:33', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 42, '2014-12-03 16:54:33', '2014-12-03 16:54:33', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 16:54:33', '2014-12-03 16:54:33', 980190962)
  [1m[36m (3.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/_users_list.html.erb (9.5ms)
Completed 500 Internal Server Error in 38ms
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"41"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 980190962, '2014-12-03 16:57:52', '2014-12-03 16:57:52', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 980190962, '2014-12-03 16:57:52', '2014-12-03 16:57:52', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 16:57:52', '2014-12-03 16:57:52', 980190962)
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/_users_list.html.erb (9.8ms)
Completed 500 Internal Server Error in 37ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 980190962, '2014-12-03 16:58:33', '2014-12-03 16:58:33', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 980190962, '2014-12-03 16:58:33', '2014-12-03 16:58:33', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 16:58:33', '2014-12-03 16:58:33', 980190962)
  [1m[36m (3.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/_users_list.html.erb (9.3ms)
Completed 500 Internal Server Error in 27ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 980190962, '2014-12-03 16:59:48', '2014-12-03 16:59:48', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 980190962, '2014-12-03 16:59:48', '2014-12-03 16:59:48', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 16:59:48', '2014-12-03 16:59:48', 980190962)
  [1m[36m (3.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mBroadcast Load (0.3ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"980190962"}}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 15ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 11ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/_users_list.html.erb (9.6ms)
Completed 500 Internal Server Error in 22ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 980190962, '2014-12-03 17:09:54', '2014-12-03 17:09:54', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 980190962, '2014-12-03 17:09:54', '2014-12-03 17:09:54', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 17:09:54', '2014-12-03 17:09:54', 980190962)
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"980190962"}}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."login" = 'admin' LIMIT 1[0m
Completed 500 Internal Server Error in 17ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."login" = 'admin' LIMIT 1
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."login" = 'admin' LIMIT 1
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."login" = 'admin' LIMIT 1
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."login" = 'admin' LIMIT 1
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/_users_list.html.erb (9.4ms)
Completed 500 Internal Server Error in 20ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 980190962, '2014-12-03 17:10:54', '2014-12-03 17:10:54', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 980190962, '2014-12-03 17:10:54', '2014-12-03 17:10:54', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 17:10:54', '2014-12-03 17:10:54', 980190962)
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mBroadcast Load (0.3ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"980190962"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[35mUserDetail Load (0.2ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."login" = 'admin' LIMIT 1
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/_users_list.html.erb (10.0ms)
Completed 500 Internal Server Error in 21ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 980190962, '2014-12-03 17:11:28', '2014-12-03 17:11:28', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 980190962, '2014-12-03 17:11:28', '2014-12-03 17:11:28', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at", "id") VALUES ('Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 17:11:28', '2014-12-03 17:11:28', 980190962)
  [1m[36m (3.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"980190962"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/_users_list.html.erb (10.1ms)
Completed 500 Internal Server Error in 28ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Unable to load users_detail, underlying cause No such file to load -- users_detail 

 /usr/local/lib/ruby/gems/2.1.0/gems/activesupport-4.1.5/lib/active_support/dependencies.rb:247:in `require'
/usr/local/lib/ruby/gems/2.1.0/gems/activesupport-4.1.5/lib/active_support/dependencies.rb:247:in `block in require'
/usr/local/lib/ruby/gems/2.1.0/gems/activesupport-4.1.5/lib/active_support/dependencies.rb:232:in `load_dependency'
/usr/local/lib/ruby/gems/2.1.0/gems/activesupport-4.1.5/lib/active_support/dependencies.rb:247:in `require'
/usr/local/lib/ruby/gems/2.1.0/gems/activesupport-4.1.5/lib/active_support/dependencies.rb:348:in `require_or_load'
/usr/local/lib/ruby/gems/2.1.0/gems/activesupport-4.1.5/lib/active_support/dependencies.rb:307:in `depend_on'
/usr/local/lib/ruby/gems/2.1.0/gems/activesupport-4.1.5/lib/active_support/dependencies.rb:225:in `require_dependency'
/usr/local/lib/ruby/gems/2.1.0/gems/activerecord-4.1.5/lib/active_record/fixtures.rb:862:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/2.1.0/gems/activerecord-4.1.5/lib/active_record/fixtures.rb:881:in `block in require_fixture_classes'
/usr/local/lib/ruby/gems/2.1.0/gems/activerecord-4.1.5/lib/active_record/fixtures.rb:879:in `each'
/usr/local/lib/ruby/gems/2.1.0/gems/activerecord-4.1.5/lib/active_record/fixtures.rb:879:in `require_fixture_classes'
/usr/local/lib/ruby/gems/2.1.0/gems/activerecord-4.1.5/lib/active_record/fixtures.rb:857:in `fixtures'
/Users/xetk/Documents/Uni/3rd Year/csa/CSA Application/test/test_helper.rb:12:in `<class:TestCase>'
/Users/xetk/Documents/Uni/3rd Year/csa/CSA Application/test/test_helper.rb:5:in `<top (required)>'
/usr/local/lib/ruby/gems/2.1.0/gems/activesupport-4.1.5/lib/active_support/dependencies.rb:247:in `require'
/usr/local/lib/ruby/gems/2.1.0/gems/activesupport-4.1.5/lib/active_support/dependencies.rb:247:in `block in require'
/usr/local/lib/ruby/gems/2.1.0/gems/activesupport-4.1.5/lib/active_support/dependencies.rb:232:in `load_dependency'
/usr/local/lib/ruby/gems/2.1.0/gems/activesupport-4.1.5/lib/active_support/dependencies.rb:247:in `require'
/Users/xetk/Documents/Uni/3rd Year/csa/CSA Application/test/helpers/broadcasts_helper_test.rb:1:in `<top (required)>'
/usr/local/lib/ruby/gems/2.1.0/gems/activesupport-4.1.5/lib/active_support/dependencies.rb:247:in `require'
/usr/local/lib/ruby/gems/2.1.0/gems/activesupport-4.1.5/lib/active_support/dependencies.rb:247:in `block in require'
/usr/local/lib/ruby/gems/2.1.0/gems/activesupport-4.1.5/lib/active_support/dependencies.rb:232:in `load_dependency'
/usr/local/lib/ruby/gems/2.1.0/gems/activesupport-4.1.5/lib/active_support/dependencies.rb:247:in `require'
/usr/local/lib/ruby/gems/2.1.0/gems/railties-4.1.5/lib/rails/test_unit/sub_test_task.rb:114:in `block (3 levels) in define'
/usr/local/lib/ruby/gems/2.1.0/gems/railties-4.1.5/lib/rails/test_unit/sub_test_task.rb:114:in `each'
/usr/local/lib/ruby/gems/2.1.0/gems/railties-4.1.5/lib/rails/test_unit/sub_test_task.rb:114:in `block (2 levels) in define'
/usr/local/lib/ruby/gems/2.1.0/gems/railties-4.1.5/lib/rails/test_unit/sub_test_task.rb:113:in `each'
/usr/local/lib/ruby/gems/2.1.0/gems/railties-4.1.5/lib/rails/test_unit/sub_test_task.rb:113:in `block in define'
/usr/local/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib/rake/task.rb:240:in `call'
/usr/local/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib/rake/task.rb:240:in `block in execute'
/usr/local/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib/rake/task.rb:235:in `each'
/usr/local/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib/rake/task.rb:235:in `execute'
/usr/local/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib/rake/task.rb:179:in `block in invoke_with_call_chain'
/usr/local/Cellar/ruby/2.1.5/lib/ruby/2.1.0/monitor.rb:211:in `mon_synchronize'
/usr/local/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib/rake/task.rb:172:in `invoke_with_call_chain'
/usr/local/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib/rake/task.rb:201:in `block in invoke_prerequisites'
/usr/local/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib/rake/task.rb:199:in `each'
/usr/local/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib/rake/task.rb:199:in `invoke_prerequisites'
/usr/local/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib/rake/task.rb:178:in `block in invoke_with_call_chain'
/usr/local/Cellar/ruby/2.1.5/lib/ruby/2.1.0/monitor.rb:211:in `mon_synchronize'
/usr/local/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib/rake/task.rb:172:in `invoke_with_call_chain'
/usr/local/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib/rake/task.rb:165:in `invoke'
/usr/local/lib/ruby/gems/2.1.0/gems/railties-4.1.5/lib/rails/test_unit/sub_test_task.rb:20:in `invoke_rake_task'
/usr/local/lib/ruby/gems/2.1.0/gems/railties-4.1.5/lib/rails/test_unit/testing.rake:8:in `block in <top (required)>'
/usr/local/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib/rake/task.rb:240:in `call'
/usr/local/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib/rake/task.rb:240:in `block in execute'
/usr/local/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib/rake/task.rb:235:in `each'
/usr/local/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib/rake/task.rb:235:in `execute'
/usr/local/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib/rake/task.rb:179:in `block in invoke_with_call_chain'
/usr/local/Cellar/ruby/2.1.5/lib/ruby/2.1.0/monitor.rb:211:in `mon_synchronize'
/usr/local/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib/rake/task.rb:172:in `invoke_with_call_chain'
/usr/local/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib/rake/task.rb:165:in `invoke'
/usr/local/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib/rake/application.rb:150:in `invoke_task'
/usr/local/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib/rake/application.rb:106:in `block (2 levels) in top_level'
/usr/local/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib/rake/application.rb:106:in `each'
/usr/local/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib/rake/application.rb:106:in `block in top_level'
/usr/local/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib/rake/application.rb:115:in `run_with_threads'
/usr/local/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib/rake/application.rb:100:in `top_level'
/usr/local/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib/rake/application.rb:78:in `block in run'
/usr/local/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib/rake/application.rb:176:in `standard_exception_handling'
/usr/local/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib/rake/application.rb:75:in `run'
/usr/local/lib/ruby/gems/2.1.0/gems/rake-10.3.2/bin/rake:33:in `<top (required)>'
/usr/local/bin/rake:23:in `load'
/usr/local/bin/rake:23:in `<main>'
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:50:29', '2014-12-03 17:50:29', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:50:29', '2014-12-03 17:50:29', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 17:50:29', '2014-12-03 17:50:29')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users_details"[0m
SQLite3::SQLException: no such table: users_details: DELETE FROM "users_details"
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:50:29', '2014-12-03 17:50:29', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:50:29', '2014-12-03 17:50:29', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 17:50:29', '2014-12-03 17:50:29')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users_details"[0m
SQLite3::SQLException: no such table: users_details: DELETE FROM "users_details"
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:50:29', '2014-12-03 17:50:29', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:50:29', '2014-12-03 17:50:29', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 17:50:29', '2014-12-03 17:50:29')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users_details"[0m
SQLite3::SQLException: no such table: users_details: DELETE FROM "users_details"
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:50:29', '2014-12-03 17:50:29', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:50:29', '2014-12-03 17:50:29', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 17:50:29', '2014-12-03 17:50:29')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users_details"[0m
SQLite3::SQLException: no such table: users_details: DELETE FROM "users_details"
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:50:29', '2014-12-03 17:50:29', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:50:29', '2014-12-03 17:50:29', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 17:50:29', '2014-12-03 17:50:29')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users_details"[0m
SQLite3::SQLException: no such table: users_details: DELETE FROM "users_details"
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:50:29', '2014-12-03 17:50:29', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:50:29', '2014-12-03 17:50:29', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 17:50:29', '2014-12-03 17:50:29')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users_details"[0m
SQLite3::SQLException: no such table: users_details: DELETE FROM "users_details"
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:50:29', '2014-12-03 17:50:29', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:50:29', '2014-12-03 17:50:29', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 17:50:29', '2014-12-03 17:50:29')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users_details"[0m
SQLite3::SQLException: no such table: users_details: DELETE FROM "users_details"
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:50:29', '2014-12-03 17:50:29', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:50:29', '2014-12-03 17:50:29', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 17:50:29', '2014-12-03 17:50:29')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users_details"[0m
SQLite3::SQLException: no such table: users_details: DELETE FROM "users_details"
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:50:29', '2014-12-03 17:50:29', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:50:29', '2014-12-03 17:50:29', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 17:50:29', '2014-12-03 17:50:29')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users_details"[0m
SQLite3::SQLException: no such table: users_details: DELETE FROM "users_details"
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:50:30', '2014-12-03 17:50:30', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:50:30', '2014-12-03 17:50:30', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 17:50:30', '2014-12-03 17:50:30')
  [1m[36mFixture Delete (9.6ms)[0m  [1mDELETE FROM "users_details"[0m
SQLite3::SQLException: no such table: users_details: DELETE FROM "users_details"
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:50:30', '2014-12-03 17:50:30', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:50:30', '2014-12-03 17:50:30', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 17:50:30', '2014-12-03 17:50:30')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users_details"[0m
SQLite3::SQLException: no such table: users_details: DELETE FROM "users_details"
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:50:30', '2014-12-03 17:50:30', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:50:30', '2014-12-03 17:50:30', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 17:50:30', '2014-12-03 17:50:30')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users_details"[0m
SQLite3::SQLException: no such table: users_details: DELETE FROM "users_details"
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:50:30', '2014-12-03 17:50:30', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:50:30', '2014-12-03 17:50:30', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 17:50:30', '2014-12-03 17:50:30')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users_details"[0m
SQLite3::SQLException: no such table: users_details: DELETE FROM "users_details"
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:50:30', '2014-12-03 17:50:30', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:50:30', '2014-12-03 17:50:30', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 17:50:30', '2014-12-03 17:50:30')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users_details"[0m
SQLite3::SQLException: no such table: users_details: DELETE FROM "users_details"
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:50:30', '2014-12-03 17:50:30', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:50:30', '2014-12-03 17:50:30', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 17:50:30', '2014-12-03 17:50:30')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users_details"[0m
SQLite3::SQLException: no such table: users_details: DELETE FROM "users_details"
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "user_details"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
SQLite3::SQLException: table user_details has no column named encrypted_password: INSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "broadcasts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "user_details"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)[0m
SQLite3::SQLException: table user_details has no column named encrypted_password: INSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "user_details"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
SQLite3::SQLException: table user_details has no column named encrypted_password: INSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "broadcasts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "user_details"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)[0m
SQLite3::SQLException: table user_details has no column named encrypted_password: INSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "user_details"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
SQLite3::SQLException: table user_details has no column named encrypted_password: INSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "broadcasts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "user_details"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)[0m
SQLite3::SQLException: table user_details has no column named encrypted_password: INSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "user_details"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
SQLite3::SQLException: table user_details has no column named encrypted_password: INSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "broadcasts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "user_details"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)[0m
SQLite3::SQLException: table user_details has no column named encrypted_password: INSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "user_details"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
SQLite3::SQLException: table user_details has no column named encrypted_password: INSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "broadcasts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "user_details"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)[0m
SQLite3::SQLException: table user_details has no column named encrypted_password: INSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "user_details"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
SQLite3::SQLException: table user_details has no column named encrypted_password: INSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "broadcasts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "user_details"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)[0m
SQLite3::SQLException: table user_details has no column named encrypted_password: INSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "user_details"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
SQLite3::SQLException: table user_details has no column named encrypted_password: INSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "broadcasts"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "user_details"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)[0m
SQLite3::SQLException: table user_details has no column named encrypted_password: INSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:52:36', '2014-12-03 17:52:36', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "user_details"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
SQLite3::SQLException: table user_details has no column named encrypted_password: INSERT INTO "user_details" ("id", "login", "encrypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:53:16', '2014-12-03 17:53:16', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:53:16', '2014-12-03 17:53:16', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "user_details"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 17:53:16', '2014-12-03 17:53:16')
  [1m[36m (6.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (10.9ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/_users_list.html.erb (10.6ms)
Completed 500 Internal Server Error in 26ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:54:15', '2014-12-03 17:54:15', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:54:15', '2014-12-03 17:54:15', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "user_details"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 17:54:15', '2014-12-03 17:54:15')
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/_users_list.html.erb (10.0ms)
Completed 500 Internal Server Error in 20ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:54:59', '2014-12-03 17:54:59', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:54:59', '2014-12-03 17:54:59', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "user_details"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 17:54:59', '2014-12-03 17:54:59')
  [1m[36m (3.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 26ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/_users_list.html.erb (7.6ms)
Completed 500 Internal Server Error in 12ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 5ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:57:22', '2014-12-03 17:57:22', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:57:22', '2014-12-03 17:57:22', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "user_details"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 17:57:22', '2014-12-03 17:57:22')
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 31ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/_users_list.html.erb (7.9ms)
Completed 500 Internal Server Error in 12ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 4ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:58:34', '2014-12-03 17:58:34', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:58:34', '2014-12-03 17:58:34', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "user_details"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 17:58:34', '2014-12-03 17:58:34')
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", "2014-12-03 17:58:34.505939"], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", "2014-12-03 17:58:34.505939"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 23ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mImage Load (0.1ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "user_details" WHERE "user_details"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users?page=1
Completed 302 Found in 19ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.1ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (2.0ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 1248ms (Views: 1246.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 6 OFFSET 0
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 1 OFFSET 0
  Rendered users/_users_list.html.erb (25.6ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.9ms)
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 36ms (Views: 33.6ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.8ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 15ms (Views: 14.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/_show.html.erb (0.8ms)
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 12ms (Views: 9.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"1", "email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"1"}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
Unpermitted parameters: id
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/1?page=1
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:59:15', '2014-12-03 17:59:15', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:59:15', '2014-12-03 17:59:15', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "user_details"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 17:59:15', '2014-12-03 17:59:15')
  [1m[36m (3.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-03 17:59:15.758302"], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", "2014-12-03 17:59:15.758302"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mImage Load (0.1ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "user_details" WHERE "user_details"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users?page=1
Completed 302 Found in 15ms (ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.1ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (1.3ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 132ms (Views: 129.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 6 OFFSET 0[0m
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 1 OFFSET 0[0m
  Rendered users/_users_list.html.erb (8.8ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 18ms (Views: 16.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/_show.html.erb (0.6ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"1", "email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"1"}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
Unpermitted parameters: id
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/1?page=1
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1"}}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/session/new
Filter chain halted as :login_required rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 17:59:56', '2014-12-03 17:59:56', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 17:59:56', '2014-12-03 17:59:56', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "user_details"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 17:59:56', '2014-12-03 17:59:56')
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", "2014-12-03 17:59:56.747431"], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", "2014-12-03 17:59:56.747431"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 29ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mImage Load (0.1ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "user_details" WHERE "user_details"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users?page=1
Completed 302 Found in 17ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.1ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (1.4ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 125ms (Views: 122.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 6 OFFSET 0
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 1 OFFSET 0
  Rendered users/_users_list.html.erb (8.6ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 17ms (Views: 15.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 11ms (Views: 10.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/_show.html.erb (0.7ms)
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"1", "email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
Unpermitted parameters: id
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/1?page=1
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1"}}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: user_id
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["content", "Hello There"], ["created_at", "2014-12-03 17:59:56.970802"], ["updated_at", "2014-12-03 17:59:56.970802"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 10ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/broadcasts
Completed 302 Found in 20ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.3ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0[0m
  [1m[35mFeed Load (0.1ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 298486374]]
  [1m[36mFeed Load (0.0ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 16ms (Views: 13.6ms | ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (1.0ms)
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 24ms (Views: 22.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mFeed Load (0.1ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.8ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 18:04:13', '2014-12-03 18:04:13', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 18:04:13', '2014-12-03 18:04:13', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "user_details"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 18:04:13', '2014-12-03 18:04:13')
  [1m[36m (3.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 27ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/_users_list.html.erb (8.8ms)
Completed 500 Internal Server Error in 13ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 4ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1"}}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: user_id
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["content", "Hello There"], ["created_at", "2014-12-03 18:04:14.085270"], ["updated_at", "2014-12-03 18:04:14.085270"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 15ms
  [1m[35m (2.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/broadcasts
Completed 302 Found in 16ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0[0m
  [1m[35mFeed Load (0.1ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 298486374]]
  [1m[36mFeed Load (0.0ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (1.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 118ms (Views: 115.4ms | ActiveRecord: 1.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mFeed Load (0.0ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 18:05:01', '2014-12-03 18:05:01', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 18:05:01', '2014-12-03 18:05:01', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "user_details"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 18:05:01', '2014-12-03 18:05:01')
  [1m[36m (3.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 32ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/_users_list.html.erb (8.6ms)
Completed 500 Internal Server Error in 13ms
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 4ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1"}}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: user_id
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["content", "Hello There"], ["created_at", "2014-12-03 18:05:01.729757"], ["updated_at", "2014-12-03 18:05:01.729757"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 19ms
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/broadcasts
Completed 302 Found in 16ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0[0m
  [1m[35mFeed Load (0.2ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 298486374]]
  [1m[36mFeed Load (0.1ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (1.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 125ms (Views: 122.4ms | ActiveRecord: 1.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 13ms (Views: 12.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mFeed Load (0.0ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 18:05:42', '2014-12-03 18:05:42', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 18:05:42', '2014-12-03 18:05:42', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "user_details"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 18:05:42', '2014-12-03 18:05:42')
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.2ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1"}}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: user_id
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["content", "Hello There"], ["created_at", "2014-12-03 18:05:42.584704"], ["updated_at", "2014-12-03 18:05:42.584704"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 12ms
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/broadcasts
Completed 302 Found in 18ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0[0m
  [1m[35mFeed Load (0.1ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 298486374]]
  [1m[36mFeed Load (0.1ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (1.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 130ms (Views: 127.3ms | ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 17ms (Views: 14.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mFeed Load (0.0ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 5ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/_users_list.html.erb (8.7ms)
Completed 500 Internal Server Error in 11ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 4ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 18:11:48', '2014-12-03 18:11:48', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 18:11:48', '2014-12-03 18:11:48', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "user_details"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 18:11:48', '2014-12-03 18:11:48')
  [1m[36m (3.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (9.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1"}}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: user_id
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["content", "Hello There"], ["created_at", "2014-12-03 18:11:48.644299"], ["updated_at", "2014-12-03 18:11:48.644299"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 12ms
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/broadcasts
Completed 302 Found in 15ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0[0m
  [1m[35mFeed Load (0.1ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 298486374]]
  [1m[36mFeed Load (0.1ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (1.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 123ms (Views: 121.2ms | ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.8ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 14ms (Views: 12.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mFeed Load (0.0ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 5ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/_users_list.html.erb (8.6ms)
Completed 500 Internal Server Error in 11ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 3ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 18:13:03', '2014-12-03 18:13:03', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 18:13:03', '2014-12-03 18:13:03', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "user_details"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 18:13:03', '2014-12-03 18:13:03')
  [1m[36m (3.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1"}}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: user_id
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["content", "Hello There"], ["created_at", "2014-12-03 18:13:03.183046"], ["updated_at", "2014-12-03 18:13:03.183046"], ["user_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 39ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/broadcasts
Completed 302 Found in 14ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0
  [1m[36mFeed Load (0.2ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 298486374]]
  [1m[35mFeed Load (0.1ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0[0m
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (1.5ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 131ms (Views: 128.7ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 14ms (Views: 12.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFeed Load (0.0ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 5ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/_users_list.html.erb (9.0ms)
Completed 500 Internal Server Error in 11ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 18:13:47', '2014-12-03 18:13:47', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 18:13:47', '2014-12-03 18:13:47', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "user_details"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 18:13:47', '2014-12-03 18:13:47')
  [1m[36m (3.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1"}}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: user_id
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["content", "Hello There"], ["created_at", "2014-12-03 18:13:47.702211"], ["updated_at", "2014-12-03 18:13:47.702211"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 12ms
  [1m[35m (2.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/broadcasts
Completed 302 Found in 17ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0[0m
  [1m[35mFeed Load (0.1ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 298486374]]
  [1m[36mFeed Load (0.0ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (1.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 120ms (Views: 117.5ms | ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mFeed Load (0.0ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 5ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/_users_list.html.erb (8.4ms)
Completed 500 Internal Server Error in 11ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 3ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 18:15:48', '2014-12-03 18:15:48', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 18:15:48', '2014-12-03 18:15:48', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "user_details"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 18:15:48', '2014-12-03 18:15:48')
  [1m[36m (3.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1"}}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: user_id
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["content", "Hello There"], ["created_at", "2014-12-03 18:15:48.857677"], ["updated_at", "2014-12-03 18:15:48.857677"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 15ms
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/broadcasts
Completed 302 Found in 19ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0[0m
  [1m[35mFeed Load (0.2ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 298486374]]
  [1m[36mFeed Load (0.1ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (1.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 135ms (Views: 132.6ms | ActiveRecord: 1.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 15ms (Views: 13.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mFeed Load (0.0ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", "2014-12-03 18:15:49.068708"], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", "2014-12-03 18:15:49.068708"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (2.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mImage Load (0.1ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "user_details" WHERE "user_details"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users?page=1
Completed 302 Found in 10ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.9ms)
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 20ms (Views: 18.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 6 OFFSET 0
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 1 OFFSET 0
  Rendered users/_users_list.html.erb (7.9ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 17ms (Views: 15.5ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 21ms (Views: 19.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/_show.html.erb (0.7ms)
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.9ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 13ms (Views: 10.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"1", "email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
Unpermitted parameters: id
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/1?page=1
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 18:16:42', '2014-12-03 18:16:42', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 18:16:42', '2014-12-03 18:16:42', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "user_details"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 18:16:42', '2014-12-03 18:16:42')
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1"}}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: user_id
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["content", "Hello There"], ["created_at", "2014-12-03 18:16:42.977029"], ["updated_at", "2014-12-03 18:16:42.977029"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 12ms
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/broadcasts
Completed 302 Found in 15ms (ActiveRecord: 0.7ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0[0m
  [1m[35mFeed Load (0.1ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 298486374]]
  [1m[36mFeed Load (0.0ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (1.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 139ms (Views: 136.7ms | ActiveRecord: 1.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 14ms (Views: 12.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mFeed Load (0.0ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", "2014-12-03 18:16:43.184799"], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", "2014-12-03 18:16:43.184799"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mImage Load (0.1ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "user_details" WHERE "user_details"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users?page=1
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.8ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 20ms (Views: 18.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 6 OFFSET 0
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 1 OFFSET 0
  Rendered users/_users_list.html.erb (8.3ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 18ms (Views: 16.1ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 20ms (Views: 18.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.1ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/_show.html.erb (0.7ms)
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"1", "email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
Unpermitted parameters: id
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/1?page=1
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 20:14:59', '2014-12-03 20:14:59', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 20:14:59', '2014-12-03 20:14:59', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "user_details"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 20:14:59', '2014-12-03 20:14:59')
  [1m[36m (3.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", "2014-12-03 20:14:59.236132"], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", "2014-12-03 20:14:59.236132"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 41ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mImage Load (0.1ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "user_details" WHERE "user_details"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users?page=1
Completed 302 Found in 16ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.1ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (2.0ms)
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 168ms (Views: 166.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 6 OFFSET 0
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 1 OFFSET 0
  Rendered users/_users_list.html.erb (13.3ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.8ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 24ms (Views: 22.0ms | ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 15ms (Views: 13.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.1ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/_show.html.erb (0.7ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"1", "email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"1"}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
Unpermitted parameters: id
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/1?page=1
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1"}}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: user_id
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["content", "Hello There"], ["created_at", "2014-12-03 20:14:59.528712"], ["updated_at", "2014-12-03 20:14:59.528712"], ["user_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 9ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/broadcasts
Completed 302 Found in 19ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0
  [1m[36mFeed Load (0.1ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 298486374]]
  [1m[35mFeed Load (0.1ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0[0m
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.9ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 19ms (Views: 16.0ms | ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.8ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 21ms (Views: 19.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFeed Load (0.0ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (1.0ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 13ms (Views: 11.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 20:31:45', '2014-12-03 20:31:45', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 20:31:45', '2014-12-03 20:31:45', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "feeds"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('twitter', '2014-12-03 20:31:45', '2014-12-03 20:31:45', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('facebook', '2014-12-03 20:31:45', '2014-12-03 20:31:45', 298486374)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('email', '2014-12-03 20:31:45', '2014-12-03 20:31:45', 113629430)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('RSS', '2014-12-03 20:31:45', '2014-12-03 20:31:45', 281110143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('atom', '2014-12-03 20:31:45', '2014-12-03 20:31:45', 1018350795)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('extension', '2014-12-03 20:31:45', '2014-12-03 20:31:45', 51848956)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "user_details"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 20:31:45', '2014-12-03 20:31:45')[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", "2014-12-03 20:31:45.778927"], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", "2014-12-03 20:31:45.778927"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mImage Load (0.1ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "user_details" WHERE "user_details"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users?page=1
Completed 302 Found in 15ms (ActiveRecord: 0.9ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.1ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (1.4ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 128ms (Views: 125.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 6 OFFSET 0
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 1 OFFSET 0
  Rendered users/_users_list.html.erb (9.2ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 18ms (Views: 16.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 17ms (Views: 15.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/_show.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"1", "email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
Unpermitted parameters: id
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/1?page=1
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1"}}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: user_id
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["content", "Hello There"], ["created_at", "2014-12-03 20:31:46.009291"], ["updated_at", "2014-12-03 20:31:46.009291"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 9ms
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/broadcasts
Completed 302 Found in 15ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0[0m
  [1m[35mFeed Load (0.1ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 298486374]]
  [1m[36mFeed Load (0.0ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 16ms (Views: 13.3ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (1.0ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 14ms (Views: 12.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mFeed Load (0.1ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.9ms)
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 15ms (Views: 12.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 20:58:01', '2014-12-03 20:58:01', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 20:58:01', '2014-12-03 20:58:01', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "feeds"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('twitter', '2014-12-03 20:58:01', '2014-12-03 20:58:01', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('facebook', '2014-12-03 20:58:01', '2014-12-03 20:58:01', 298486374)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('email', '2014-12-03 20:58:01', '2014-12-03 20:58:01', 113629430)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('RSS', '2014-12-03 20:58:01', '2014-12-03 20:58:01', 281110143)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('atom', '2014-12-03 20:58:01', '2014-12-03 20:58:01', 1018350795)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('extension', '2014-12-03 20:58:01', '2014-12-03 20:58:01', 51848956)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "user_details"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 20:58:01', '2014-12-03 20:58:01')[0m
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1"}}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: user_id
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["content", "Hello There"], ["created_at", "2014-12-03 20:58:01.217908"], ["updated_at", "2014-12-03 20:58:01.217908"], ["user_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/broadcasts
Completed 302 Found in 15ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0
  [1m[36mFeed Load (0.2ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 298486374]]
  [1m[35mFeed Load (0.1ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0[0m
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (1.6ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 129ms (Views: 126.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 14ms (Views: 12.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFeed Load (0.0ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-03 20:58:01.413182"], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", "2014-12-03 20:58:01.413182"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mImage Load (0.1ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "user_details" WHERE "user_details"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users?page=1
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 18ms (Views: 16.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 6 OFFSET 0[0m
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 1 OFFSET 0[0m
  Rendered users/_users_list.html.erb (7.8ms)
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 17ms (Views: 15.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 21ms (Views: 19.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/_show.html.erb (0.7ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"1", "email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
Unpermitted parameters: id
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/1?page=1
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 21:05:48', '2014-12-03 21:05:48', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 21:05:48', '2014-12-03 21:05:48', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "feeds"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('twitter', '2014-12-03 21:05:48', '2014-12-03 21:05:48', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('facebook', '2014-12-03 21:05:48', '2014-12-03 21:05:48', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('email', '2014-12-03 21:05:48', '2014-12-03 21:05:48', 113629430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('RSS', '2014-12-03 21:05:48', '2014-12-03 21:05:48', 281110143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('atom', '2014-12-03 21:05:48', '2014-12-03 21:05:48', 1018350795)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('extension', '2014-12-03 21:05:48', '2014-12-03 21:05:48', 51848956)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "user_details"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 21:05:48', '2014-12-03 21:05:48')[0m
  [1m[35m (3.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1", "feeds"=>"lol"}}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: user_id, feeds
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["content", "Hello There"], ["created_at", "2014-12-03 21:05:48.719138"], ["updated_at", "2014-12-03 21:05:48.719138"], ["user_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 13ms
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/broadcasts
Completed 302 Found in 14ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0
  [1m[36mFeed Load (0.2ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 298486374]]
  [1m[35mFeed Load (0.0ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0[0m
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (1.4ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 119ms (Views: 116.5ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (1.0ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 15ms (Views: 13.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFeed Load (0.1ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 11ms (Views: 8.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-03 21:05:48.907824"], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", "2014-12-03 21:05:48.907824"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mImage Load (0.1ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "user_details" WHERE "user_details"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users?page=1
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 18ms (Views: 16.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 6 OFFSET 0[0m
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 1 OFFSET 0[0m
  Rendered users/_users_list.html.erb (7.2ms)
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.8ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 17ms (Views: 14.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 19ms (Views: 18.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/_show.html.erb (0.6ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"1", "email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
Unpermitted parameters: id
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/1?page=1
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 21:07:23', '2014-12-03 21:07:23', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 21:07:23', '2014-12-03 21:07:23', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "feeds"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('twitter', '2014-12-03 21:07:23', '2014-12-03 21:07:23', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('facebook', '2014-12-03 21:07:23', '2014-12-03 21:07:23', 298486374)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('email', '2014-12-03 21:07:23', '2014-12-03 21:07:23', 113629430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('RSS', '2014-12-03 21:07:23', '2014-12-03 21:07:23', 281110143)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('atom', '2014-12-03 21:07:23', '2014-12-03 21:07:23', 1018350795)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('extension', '2014-12-03 21:07:23', '2014-12-03 21:07:23', 51848956)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "user_details"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 21:07:23', '2014-12-03 21:07:23')[0m
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1", "feeds"=>["twitter", "email", "extension"]}}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: user_id, feeds
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["content", "Hello There"], ["created_at", "2014-12-03 21:07:23.484409"], ["updated_at", "2014-12-03 21:07:23.484409"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 31ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/broadcasts
Completed 302 Found in 15ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0[0m
  [1m[35mFeed Load (0.2ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 298486374]]
  [1m[36mFeed Load (0.1ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (1.4ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 137ms (Views: 134.3ms | ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 14ms (Views: 11.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mFeed Load (0.1ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", "2014-12-03 21:07:23.691351"], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", "2014-12-03 21:07:23.691351"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mImage Load (0.1ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "user_details" WHERE "user_details"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users?page=1
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.1ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 22ms (Views: 19.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 6 OFFSET 0
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 1 OFFSET 0
  Rendered users/_users_list.html.erb (6.9ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (1.0ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 19ms (Views: 16.7ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 20ms (Views: 18.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/_show.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"1", "email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
Unpermitted parameters: id
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/1?page=1
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 21:09:54', '2014-12-03 21:09:54', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 21:09:54', '2014-12-03 21:09:54', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "feeds"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('twitter', '2014-12-03 21:09:54', '2014-12-03 21:09:54', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('facebook', '2014-12-03 21:09:54', '2014-12-03 21:09:54', 298486374)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('email', '2014-12-03 21:09:54', '2014-12-03 21:09:54', 113629430)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('RSS', '2014-12-03 21:09:54', '2014-12-03 21:09:54', 281110143)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('atom', '2014-12-03 21:09:54', '2014-12-03 21:09:54', 1018350795)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('extension', '2014-12-03 21:09:54', '2014-12-03 21:09:54', 51848956)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "user_details"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 21:09:54', '2014-12-03 21:09:54')[0m
  [1m[35m (3.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1"}, "feeds"=>["twitter", "email", "extension"]}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: user_id
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["content", "Hello There"], ["created_at", "2014-12-03 21:09:54.803168"], ["updated_at", "2014-12-03 21:09:54.803168"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mFeed Load (0.1ms)[0m  SELECT  "feeds".* FROM "feeds"  WHERE "feeds"."name" = 'twitter' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "broadcasts_feeds" ("broadcast_id", "feed_id") VALUES (?, ?)  [["broadcast_id", 980190963], ["feed_id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 625ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/broadcasts
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0[0m
  [1m[35mFeed Load (0.1ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 298486374]]
  [1m[36mFeed Load (0.0ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mBroadcast Load (0.3ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (1.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 127ms (Views: 124.1ms | ActiveRecord: 1.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 13ms (Views: 12.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mFeed Load (0.0ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", "2014-12-03 21:09:55.577687"], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", "2014-12-03 21:09:55.577687"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mImage Load (0.1ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "user_details" WHERE "user_details"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users?page=1
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.1ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 22ms (Views: 20.0ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 6 OFFSET 0
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 1 OFFSET 0
  Rendered users/_users_list.html.erb (10.0ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 20ms (Views: 18.1ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 21ms (Views: 19.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/_show.html.erb (0.7ms)
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.9ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"1", "email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
Unpermitted parameters: id
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/1?page=1
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 21:11:14', '2014-12-03 21:11:14', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 21:11:14', '2014-12-03 21:11:14', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "feeds"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('twitter', '2014-12-03 21:11:14', '2014-12-03 21:11:14', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('facebook', '2014-12-03 21:11:14', '2014-12-03 21:11:14', 298486374)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('email', '2014-12-03 21:11:14', '2014-12-03 21:11:14', 113629430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('RSS', '2014-12-03 21:11:14', '2014-12-03 21:11:14', 281110143)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('atom', '2014-12-03 21:11:14', '2014-12-03 21:11:14', 1018350795)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('extension', '2014-12-03 21:11:14', '2014-12-03 21:11:14', 51848956)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "user_details"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 21:11:14', '2014-12-03 21:11:14')[0m
  [1m[35m (3.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-03 21:11:14.559824"], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", "2014-12-03 21:11:14.559824"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 31ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mImage Load (0.1ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "user_details" WHERE "user_details"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users?page=1
Completed 302 Found in 15ms (ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.1ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (1.4ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 132ms (Views: 129.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 6 OFFSET 0[0m
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 1 OFFSET 0[0m
  Rendered users/_users_list.html.erb (8.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 17ms (Views: 15.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 11ms (Views: 10.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/_show.html.erb (0.6ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"1", "email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
Unpermitted parameters: id
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/1?page=1
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1"}, "feeds"=>["twitter", "extension"]}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: user_id
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["content", "Hello There"], ["created_at", "2014-12-03 21:11:14.800975"], ["updated_at", "2014-12-03 21:11:14.800975"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mFeed Load (0.1ms)[0m  SELECT  "feeds".* FROM "feeds"  WHERE "feeds"."name" = 'extension' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "broadcasts_feeds" ("broadcast_id", "feed_id") VALUES (?, ?)  [["broadcast_id", 980190963], ["feed_id", 51848956]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 618ms (Views: 17.7ms | ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (1.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/broadcasts
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0
  [1m[36mFeed Load (0.1ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 298486374]]
  [1m[35mFeed Load (0.0ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0[0m
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 13ms (Views: 11.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.8ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFeed Load (0.0ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 21:20:35', '2014-12-03 21:20:35', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 21:20:35', '2014-12-03 21:20:35', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "feeds"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('twitter', '2014-12-03 21:20:35', '2014-12-03 21:20:35', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('facebook', '2014-12-03 21:20:35', '2014-12-03 21:20:35', 298486374)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('email', '2014-12-03 21:20:35', '2014-12-03 21:20:35', 113629430)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('RSS', '2014-12-03 21:20:35', '2014-12-03 21:20:35', 281110143)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('atom', '2014-12-03 21:20:35', '2014-12-03 21:20:35', 1018350795)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('extension', '2014-12-03 21:20:35', '2014-12-03 21:20:35', 51848956)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "user_details"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 21:20:35', '2014-12-03 21:20:35')[0m
  [1m[35m (3.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", "2014-12-03 21:20:35.159566"], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", "2014-12-03 21:20:35.159566"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mImage Load (0.1ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "user_details" WHERE "user_details"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users?page=1
Completed 302 Found in 13ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.1ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (1.4ms)
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 138ms (Views: 135.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 6 OFFSET 0
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 1 OFFSET 0
  Rendered users/_users_list.html.erb (9.7ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (1.2ms)
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 22ms (Views: 19.0ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/_show.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"1", "email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"1"}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
Unpermitted parameters: id
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/1?page=1
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1"}, "feeds"=>["twitter"]}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: user_id
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["content", "Hello There"], ["created_at", "2014-12-03 21:20:35.404863"], ["updated_at", "2014-12-03 21:20:35.404863"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (1.0ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 581ms (Views: 13.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/broadcasts
Completed 302 Found in 13ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0
  [1m[36mFeed Load (0.1ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 298486374]]
  [1m[35mFeed Load (0.0ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0[0m
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (1.1ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 26ms (Views: 14.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFeed Load (0.0ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 21:26:03', '2014-12-03 21:26:03', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 21:26:03', '2014-12-03 21:26:03', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "feeds"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('twitter', '2014-12-03 21:26:03', '2014-12-03 21:26:03', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('facebook', '2014-12-03 21:26:03', '2014-12-03 21:26:03', 298486374)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('email', '2014-12-03 21:26:03', '2014-12-03 21:26:03', 113629430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('RSS', '2014-12-03 21:26:03', '2014-12-03 21:26:03', 281110143)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('atom', '2014-12-03 21:26:03', '2014-12-03 21:26:03', 1018350795)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('extension', '2014-12-03 21:26:03', '2014-12-03 21:26:03', 51848956)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "user_details"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 21:26:03', '2014-12-03 21:26:03')[0m
  [1m[35m (3.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1"}, "feeds"=>["extension"]}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: user_id
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["content", "Hello There"], ["created_at", "2014-12-03 21:26:03.303206"], ["updated_at", "2014-12-03 21:26:03.303206"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mFeed Load (0.1ms)[0m  SELECT  "feeds".* FROM "feeds"  WHERE "feeds"."name" = 'extension' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "broadcasts_feeds" ("broadcast_id", "feed_id") VALUES (?, ?)  [["broadcast_id", 980190963], ["feed_id", 51848956]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/broadcasts?page=1
Completed 302 Found in 58ms (ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/broadcasts
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0
  [1m[36mFeed Load (0.2ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 298486374]]
  [1m[35mFeed Load (0.1ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0[0m
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (1.8ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 134ms (Views: 130.8ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 14ms (Views: 12.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFeed Load (0.0ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", "2014-12-03 21:26:03.530154"], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", "2014-12-03 21:26:03.530154"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mImage Load (0.2ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "user_details" WHERE "user_details"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users?page=1
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 23ms (Views: 21.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 6 OFFSET 0
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 1 OFFSET 0
  Rendered users/_users_list.html.erb (7.8ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.8ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 17ms (Views: 15.1ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/_show.html.erb (0.7ms)
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"1", "email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
Unpermitted parameters: id
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/1?page=1
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 21:26:53', '2014-12-03 21:26:53', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 21:26:53', '2014-12-03 21:26:53', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "feeds"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('twitter', '2014-12-03 21:26:53', '2014-12-03 21:26:53', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('facebook', '2014-12-03 21:26:53', '2014-12-03 21:26:53', 298486374)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('email', '2014-12-03 21:26:53', '2014-12-03 21:26:53', 113629430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('RSS', '2014-12-03 21:26:53', '2014-12-03 21:26:53', 281110143)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('atom', '2014-12-03 21:26:53', '2014-12-03 21:26:53', 1018350795)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('extension', '2014-12-03 21:26:53', '2014-12-03 21:26:53', 51848956)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "user_details"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 21:26:53', '2014-12-03 21:26:53')[0m
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1"}, "feeds"=>["extension"]}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: user_id
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["content", "Hello There"], ["created_at", "2014-12-03 21:26:53.724007"], ["updated_at", "2014-12-03 21:26:53.724007"], ["user_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFeed Load (0.1ms)[0m  [1mSELECT  "feeds".* FROM "feeds"  WHERE "feeds"."name" = 'extension' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "broadcasts_feeds" ("broadcast_id", "feed_id") VALUES (?, ?)[0m  [["broadcast_id", 980190963], ["feed_id", 51848956]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/broadcasts?page=1
Completed 302 Found in 33ms (ActiveRecord: 1.2ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/broadcasts
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0[0m
  [1m[35mFeed Load (0.2ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 298486374]]
  [1m[36mFeed Load (0.0ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (1.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 124ms (Views: 121.4ms | ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 14ms (Views: 12.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mFeed Load (0.0ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", "2014-12-03 21:26:53.925066"], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", "2014-12-03 21:26:53.925066"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (2.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mImage Load (0.1ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "user_details" WHERE "user_details"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users?page=1
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 20ms (Views: 18.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 6 OFFSET 0
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 1 OFFSET 0
  Rendered users/_users_list.html.erb (7.1ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 24ms (Views: 22.2ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 15ms (Views: 13.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/_show.html.erb (0.7ms)
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"1", "email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
Unpermitted parameters: id
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/1?page=1
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 21:27:42', '2014-12-03 21:27:42', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 21:27:42', '2014-12-03 21:27:42', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "feeds"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('twitter', '2014-12-03 21:27:42', '2014-12-03 21:27:42', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('facebook', '2014-12-03 21:27:42', '2014-12-03 21:27:42', 298486374)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('email', '2014-12-03 21:27:42', '2014-12-03 21:27:42', 113629430)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('RSS', '2014-12-03 21:27:42', '2014-12-03 21:27:42', 281110143)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('atom', '2014-12-03 21:27:42', '2014-12-03 21:27:42', 1018350795)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('extension', '2014-12-03 21:27:42', '2014-12-03 21:27:42', 51848956)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "user_details"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 21:27:42', '2014-12-03 21:27:42')[0m
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1"}, "feeds"=>["extension"]}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: user_id
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["content", "Hello There"], ["created_at", "2014-12-03 21:27:42.980370"], ["updated_at", "2014-12-03 21:27:42.980370"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mFeed Load (0.1ms)[0m  SELECT  "feeds".* FROM "feeds"  WHERE "feeds"."name" = 'extension' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "broadcasts_feeds" ("broadcast_id", "feed_id") VALUES (?, ?)  [["broadcast_id", 980190963], ["feed_id", 51848956]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/broadcasts?page=1
Completed 302 Found in 54ms (ActiveRecord: 1.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/broadcasts
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.3ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0
  [1m[36mFeed Load (0.1ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 298486374]]
  [1m[35mFeed Load (0.1ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0[0m
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (1.5ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 130ms (Views: 127.6ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.8ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 15ms (Views: 13.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFeed Load (0.0ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", "2014-12-03 21:27:43.201828"], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", "2014-12-03 21:27:43.201828"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mImage Load (0.1ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "user_details" WHERE "user_details"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users?page=1
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 19ms (Views: 17.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 6 OFFSET 0
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 1 OFFSET 0
  Rendered users/_users_list.html.erb (7.6ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (8.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 26ms (Views: 15.1ms | ActiveRecord: 8.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 13ms (Views: 12.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/_show.html.erb (0.7ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"1", "email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.1ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
Unpermitted parameters: id
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/1?page=1
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 21:28:34', '2014-12-03 21:28:34', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 21:28:34', '2014-12-03 21:28:34', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "feeds"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('twitter', '2014-12-03 21:28:34', '2014-12-03 21:28:34', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('facebook', '2014-12-03 21:28:34', '2014-12-03 21:28:34', 298486374)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('email', '2014-12-03 21:28:34', '2014-12-03 21:28:34', 113629430)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('RSS', '2014-12-03 21:28:34', '2014-12-03 21:28:34', 281110143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('atom', '2014-12-03 21:28:34', '2014-12-03 21:28:34', 1018350795)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('extension', '2014-12-03 21:28:34', '2014-12-03 21:28:34', 51848956)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "user_details"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 21:28:34', '2014-12-03 21:28:34')[0m
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-03 21:28:34.979165"], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", "2014-12-03 21:28:34.979165"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 31ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mImage Load (0.1ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "user_details" WHERE "user_details"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users?page=1
Completed 302 Found in 12ms (ActiveRecord: 0.8ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.1ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (1.4ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 129ms (Views: 126.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 6 OFFSET 0[0m
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 1 OFFSET 0[0m
  Rendered users/_users_list.html.erb (9.2ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 18ms (Views: 16.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/_show.html.erb (1.2ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"1", "email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"1"}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
Unpermitted parameters: id
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/1?page=1
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1"}, "feeds"=>["twitter"]}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: user_id
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["content", "Hello There"], ["created_at", "2014-12-03 21:28:35.200504"], ["updated_at", "2014-12-03 21:28:35.200504"], ["user_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (1.0ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 710ms (Views: 13.0ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/broadcasts
Completed 302 Found in 12ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0[0m
  [1m[35mFeed Load (0.1ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 298486374]]
  [1m[36mFeed Load (0.0ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 21ms (Views: 19.2ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mFeed Load (0.0ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.8ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 14ms (Views: 11.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-03 21:28:54', '2014-12-03 21:28:54', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-03 21:28:54', '2014-12-03 21:28:54', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "feeds"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('twitter', '2014-12-03 21:28:54', '2014-12-03 21:28:54', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('facebook', '2014-12-03 21:28:54', '2014-12-03 21:28:54', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('email', '2014-12-03 21:28:54', '2014-12-03 21:28:54', 113629430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('RSS', '2014-12-03 21:28:54', '2014-12-03 21:28:54', 281110143)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('atom', '2014-12-03 21:28:54', '2014-12-03 21:28:54', 1018350795)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('extension', '2014-12-03 21:28:54', '2014-12-03 21:28:54', 51848956)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "user_details"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-03 21:28:54', '2014-12-03 21:28:54')[0m
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1"}, "feeds"=>["twitter"]}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: user_id
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["content", "Hello There"], ["created_at", "2014-12-03 21:28:54.858877"], ["updated_at", "2014-12-03 21:28:54.858877"], ["user_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered broadcasts/new.html.erb within layouts/application (9.7ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (1.7ms)
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 602ms (Views: 121.2ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/broadcasts
Completed 302 Found in 14ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0[0m
  [1m[35mFeed Load (0.1ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 298486374]]
  [1m[36mFeed Load (0.0ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 18ms (Views: 15.8ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.8ms)
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mFeed Load (0.0ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", "2014-12-03 21:28:55.533542"], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", "2014-12-03 21:28:55.533542"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mImage Load (0.1ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "user_details" WHERE "user_details"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users?page=1
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 19ms (Views: 17.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 6 OFFSET 0
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 1 OFFSET 0
  Rendered users/_users_list.html.erb (6.9ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.8ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 25ms (Views: 22.9ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 11ms (Views: 10.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/_show.html.erb (0.7ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"1", "email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
Unpermitted parameters: id
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/1?page=1
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-04 12:07:27', '2014-12-04 12:07:27', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-04 12:07:27', '2014-12-04 12:07:27', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "feeds"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('twitter', '2014-12-04 12:07:27', '2014-12-04 12:07:27', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('facebook', '2014-12-04 12:07:27', '2014-12-04 12:07:27', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('email', '2014-12-04 12:07:27', '2014-12-04 12:07:27', 113629430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('RSS', '2014-12-04 12:07:27', '2014-12-04 12:07:27', 281110143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('atom', '2014-12-04 12:07:27', '2014-12-04 12:07:27', 1018350795)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('extension', '2014-12-04 12:07:27', '2014-12-04 12:07:27', 51848956)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "user_details"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-04 12:07:27', '2014-12-04 12:07:27')[0m
  [1m[35m (3.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1"}, "feeds"=>["twitter"]}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: user_id
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["content", "Hello There"], ["created_at", "2014-12-04 12:07:27.642946"], ["updated_at", "2014-12-04 12:07:27.642946"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mFeed Load (0.2ms)[0m  SELECT  "feeds".* FROM "feeds"  WHERE "feeds"."name" = 'twitter' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "broadcasts_feeds" ("broadcast_id", "feed_id") VALUES (?, ?)  [["broadcast_id", 980190963], ["feed_id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/broadcasts?page=1
Completed 302 Found in 696ms (ActiveRecord: 2.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/broadcasts
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (2.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0
  [1m[36mFeed Load (0.1ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 298486374]]
  [1m[35mFeed Load (0.1ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0[0m
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (2.2ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 157ms (Views: 153.9ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.8ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 20ms (Views: 18.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFeed Load (0.1ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (1.0ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-04 12:07:28.519578"], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", "2014-12-04 12:07:28.519578"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mImage Load (0.3ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "user_details" WHERE "user_details"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users?page=1
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 24ms (Views: 22.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 6 OFFSET 0[0m
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 1 OFFSET 0[0m
  Rendered users/_users_list.html.erb (10.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 21ms (Views: 18.9ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 22ms (Views: 21.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/_show.html.erb (0.8ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.8ms)
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"1", "email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.1ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
Unpermitted parameters: id
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/1?page=1
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('Hello There', 1, '2014-12-04 12:07:48', '2014-12-04 12:07:48', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('There Hello', 1, '2014-12-04 12:07:48', '2014-12-04 12:07:48', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "feeds"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('twitter', '2014-12-04 12:07:48', '2014-12-04 12:07:48', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('facebook', '2014-12-04 12:07:48', '2014-12-04 12:07:48', 298486374)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('email', '2014-12-04 12:07:48', '2014-12-04 12:07:48', 113629430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('RSS', '2014-12-04 12:07:48', '2014-12-04 12:07:48', 281110143)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('atom', '2014-12-04 12:07:48', '2014-12-04 12:07:48', 1018350795)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('extension', '2014-12-04 12:07:48', '2014-12-04 12:07:48', 51848956)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "user_details"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-04 12:07:48', '2014-12-04 12:07:48')[0m
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-04 12:07:48.963557"], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", "2014-12-04 12:07:48.963557"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 32ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mImage Load (0.1ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "user_details" WHERE "user_details"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users?page=1
Completed 302 Found in 13ms (ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.1ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (1.5ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 128ms (Views: 126.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 6 OFFSET 0[0m
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 1 OFFSET 0[0m
  Rendered users/_users_list.html.erb (9.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 19ms (Views: 16.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/_show.html.erb (0.6ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"1", "email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
Unpermitted parameters: id
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/1?page=1
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"Hello There", "user_id"=>"1"}, "feeds"=>["twitter"]}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: user_id
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["content", "Hello There"], ["created_at", "2014-12-04 12:07:49.191879"], ["updated_at", "2014-12-04 12:07:49.191879"], ["user_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (1.0ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 500ms (Views: 12.8ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (3.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/broadcasts
Completed 302 Found in 12ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (2.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0[0m
  [1m[35mFeed Load (0.1ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 298486374]]
  [1m[36mFeed Load (0.0ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.8ms)
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 24ms (Views: 22.4ms | ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mFeed Load (0.0ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('http://www.porfell.co.uk/assets/PICT0125.jpg All of the Capabara''s', 1, '2014-12-04 19:07:36', '2014-12-04 19:07:36', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('http://www.porfell.co.uk/assets/PICT0125.jpg DAWWW', 1, '2014-12-04 19:07:36', '2014-12-04 19:07:36', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "feeds"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('twitter', '2014-12-04 19:07:36', '2014-12-04 19:07:36', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('facebook', '2014-12-04 19:07:36', '2014-12-04 19:07:36', 298486374)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('email', '2014-12-04 19:07:36', '2014-12-04 19:07:36', 113629430)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('RSS', '2014-12-04 19:07:36', '2014-12-04 19:07:36', 281110143)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('atom', '2014-12-04 19:07:36', '2014-12-04 19:07:36', 1018350795)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('extension', '2014-12-04 19:07:36', '2014-12-04 19:07:36', 51848956)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "user_details"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-04 19:07:36', '2014-12-04 19:07:36')[0m
  [1m[35m (2.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-04 19:07:36.239966"], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", "2014-12-04 19:07:36.239966"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 44ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mImage Load (0.1ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "user_details" WHERE "user_details"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users?page=1
Completed 302 Found in 15ms (ActiveRecord: 0.8ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.1ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (1.6ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 171ms (Views: 169.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 6 OFFSET 0[0m
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 1 OFFSET 0[0m
  Rendered users/_users_list.html.erb (13.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 24ms (Views: 22.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 16ms (Views: 14.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.1ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/_show.html.erb (0.8ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"1", "email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
Unpermitted parameters: id
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/1?page=1
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"http://www.porfell.co.uk/assets/PICT0125.jpg All of the Capabara's", "user_id"=>"1"}, "feeds"=>["twitter"]}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: user_id
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["content", "http://www.porfell.co.uk/assets/PICT0125.jpg All of the Capabara's"], ["created_at", "2014-12-04 19:07:36.526422"], ["updated_at", "2014-12-04 19:07:36.526422"], ["user_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFeed Load (0.2ms)[0m  [1mSELECT  "feeds".* FROM "feeds"  WHERE "feeds"."name" = 'twitter' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "broadcasts_feeds" ("broadcast_id", "feed_id") VALUES (?, ?)[0m  [["broadcast_id", 980190963], ["feed_id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/broadcasts?page=1
Completed 302 Found in 656ms (ActiveRecord: 1.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/broadcasts
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0[0m
  [1m[35mFeed Load (0.1ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 298486374]]
  [1m[36mFeed Load (0.0ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.8ms)
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 26ms (Views: 23.1ms | ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (1.0ms)
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 15ms (Views: 13.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mFeed Load (0.1ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.8ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 13ms (Views: 11.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('http://www.porfell.co.uk/assets/PICT0125.jpg All of the Capabara''s', 1, '2014-12-04 19:07:41', '2014-12-04 19:07:41', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('http://www.porfell.co.uk/assets/PICT0125.jpg DAWWW', 1, '2014-12-04 19:07:41', '2014-12-04 19:07:41', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "feeds"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('twitter', '2014-12-04 19:07:41', '2014-12-04 19:07:41', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('facebook', '2014-12-04 19:07:41', '2014-12-04 19:07:41', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('email', '2014-12-04 19:07:41', '2014-12-04 19:07:41', 113629430)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('RSS', '2014-12-04 19:07:41', '2014-12-04 19:07:41', 281110143)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('atom', '2014-12-04 19:07:41', '2014-12-04 19:07:41', 1018350795)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('extension', '2014-12-04 19:07:41', '2014-12-04 19:07:41', 51848956)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "user_details"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-04 19:07:41', '2014-12-04 19:07:41')[0m
  [1m[35m (3.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-04 19:07:41.319090"], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", "2014-12-04 19:07:41.319090"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 33ms (ActiveRecord: 0.6ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mImage Load (0.1ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "user_details" WHERE "user_details"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users?page=1
Completed 302 Found in 14ms (ActiveRecord: 1.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.1ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (1.4ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 130ms (Views: 128.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 6 OFFSET 0[0m
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 1 OFFSET 0[0m
  Rendered users/_users_list.html.erb (11.3ms)
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.9ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 24ms (Views: 21.3ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/_show.html.erb (1.6ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (1.3ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"1", "email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
Unpermitted parameters: id
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/1?page=1
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"http://www.porfell.co.uk/assets/PICT0125.jpg All of the Capabara's", "user_id"=>"1"}, "feeds"=>["twitter"]}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: user_id
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["content", "http://www.porfell.co.uk/assets/PICT0125.jpg All of the Capabara's"], ["created_at", "2014-12-04 19:07:41.567247"], ["updated_at", "2014-12-04 19:07:41.567247"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (1.3ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 469ms (Views: 15.1ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (2.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/broadcasts
Completed 302 Found in 19ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0
  [1m[36mFeed Load (0.1ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 298486374]]
  [1m[35mFeed Load (0.0ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0[0m
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 13ms (Views: 11.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFeed Load (0.0ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.8ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('http://www.porfell.co.uk/assets/PICT0125.jpg All of the Capabara''s', 1, '2014-12-04 19:08:47', '2014-12-04 19:08:47', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('http://www.porfell.co.uk/assets/PICT0125.jpg DAWWW', 1, '2014-12-04 19:08:47', '2014-12-04 19:08:47', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "feeds"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('twitter', '2014-12-04 19:08:47', '2014-12-04 19:08:47', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('facebook', '2014-12-04 19:08:47', '2014-12-04 19:08:47', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('email', '2014-12-04 19:08:47', '2014-12-04 19:08:47', 113629430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('RSS', '2014-12-04 19:08:47', '2014-12-04 19:08:47', 281110143)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('atom', '2014-12-04 19:08:47', '2014-12-04 19:08:47', 1018350795)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('extension', '2014-12-04 19:08:47', '2014-12-04 19:08:47', 51848956)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "user_details"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-04 19:08:47', '2014-12-04 19:08:47')[0m
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"http://www.porfell.co.uk/assets/PICT0125.jpg All of the Capabara's", "user_id"=>"1"}, "feeds"=>["twitter"]}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: user_id
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["content", "http://www.porfell.co.uk/assets/PICT0125.jpg All of the Capabara's"], ["created_at", "2014-12-04 19:08:47.934192"], ["updated_at", "2014-12-04 19:08:47.934192"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered broadcasts/new.html.erb within layouts/application (9.7ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (1.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 705ms (Views: 118.1ms | ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/broadcasts
Completed 302 Found in 14ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0[0m
  [1m[35mFeed Load (0.2ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 298486374]]
  [1m[36mFeed Load (0.0ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.9ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 20ms (Views: 17.4ms | ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mFeed Load (0.0ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", "2014-12-04 19:08:48.710366"], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", "2014-12-04 19:08:48.710366"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mImage Load (0.1ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "user_details" WHERE "user_details"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users?page=1
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.1ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 22ms (Views: 20.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 6 OFFSET 0
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 1 OFFSET 0
  Rendered users/_users_list.html.erb (7.0ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.9ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 25ms (Views: 23.1ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 15ms (Views: 13.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/_show.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"1", "email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.0ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
Unpermitted parameters: id
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/1?page=1
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('http://www.porfell.co.uk/assets/PICT0125.jpg All of the Capabara''s', 1, '2014-12-04 20:43:00', '2014-12-04 20:43:00', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('http://www.porfell.co.uk/assets/PICT0125.jpg DAWWW', 1, '2014-12-04 20:43:00', '2014-12-04 20:43:00', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "feeds"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('twitter', '2014-12-04 20:43:00', '2014-12-04 20:43:00', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('facebook', '2014-12-04 20:43:00', '2014-12-04 20:43:00', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('email', '2014-12-04 20:43:00', '2014-12-04 20:43:00', 113629430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('RSS', '2014-12-04 20:43:00', '2014-12-04 20:43:00', 281110143)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('atom', '2014-12-04 20:43:00', '2014-12-04 20:43:00', 1018350795)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('extension', '2014-12-04 20:43:00', '2014-12-04 20:43:00', 51848956)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "user_details"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-04 20:43:00', '2014-12-04 20:43:00')[0m
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-04 20:43:00.631887"], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", "2014-12-04 20:43:00.631887"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 38ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mImage Load (0.1ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "user_details" WHERE "user_details"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users?page=1
Completed 302 Found in 15ms (ActiveRecord: 0.9ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.1ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (1.6ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 165ms (Views: 163.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 6 OFFSET 0[0m
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 1 OFFSET 0[0m
  Rendered users/_users_list.html.erb (10.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 21ms (Views: 19.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.1ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/_show.html.erb (0.7ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"1", "email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
Unpermitted parameters: id
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/1?page=1
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"http://www.porfell.co.uk/assets/PICT0125.jpg All of the Capabara's", "user_id"=>"1"}, "feeds"=>["twitter"]}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: user_id
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["content", "http://www.porfell.co.uk/assets/PICT0125.jpg All of the Capabara's"], ["created_at", "2014-12-04 20:43:00.901284"], ["updated_at", "2014-12-04 20:43:00.901284"], ["user_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (1.0ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 578ms (Views: 15.3ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/broadcasts
Completed 302 Found in 17ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0[0m
  [1m[35mFeed Load (0.1ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 298486374]]
  [1m[36mFeed Load (0.0ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.9ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 22ms (Views: 20.3ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mFeed Load (0.0ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.9ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 13ms (Views: 11.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('http://www.porfell.co.uk/assets/PICT0125.jpg All of the Capabara''s', 1, '2014-12-04 20:46:57', '2014-12-04 20:46:57', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('http://www.porfell.co.uk/assets/PICT0125.jpg DAWWW', 1, '2014-12-04 20:46:57', '2014-12-04 20:46:57', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "feeds"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('twitter', '2014-12-04 20:46:57', '2014-12-04 20:46:57', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('facebook', '2014-12-04 20:46:57', '2014-12-04 20:46:57', 298486374)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('email', '2014-12-04 20:46:57', '2014-12-04 20:46:57', 113629430)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('RSS', '2014-12-04 20:46:57', '2014-12-04 20:46:57', 281110143)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('atom', '2014-12-04 20:46:57', '2014-12-04 20:46:57', 1018350795)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('extension', '2014-12-04 20:46:57', '2014-12-04 20:46:57', 51848956)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "user_details"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-04 20:46:57', '2014-12-04 20:46:57')[0m
  [1m[35m (3.5ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-04 20:46:57.457129"], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", "2014-12-04 20:46:57.457129"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 31ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mImage Load (0.1ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "user_details" WHERE "user_details"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users?page=1
Completed 302 Found in 13ms (ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.1ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (1.4ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 137ms (Views: 135.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 6 OFFSET 0[0m
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 1 OFFSET 0[0m
  Rendered users/_users_list.html.erb (10.4ms)
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 20ms (Views: 17.7ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.6ms)
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 15ms (Views: 13.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/_show.html.erb (0.6ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"1", "email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"1"}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
Unpermitted parameters: id
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/1?page=1
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.1ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"http://www.porfell.co.uk/assets/PICT0125.jpg All of the Capabara's", "user_id"=>"1"}, "feeds"=>["twitter"]}
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: user_id
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["content", "http://www.porfell.co.uk/assets/PICT0125.jpg All of the Capabara's"], ["created_at", "2014-12-04 20:46:57.696015"], ["updated_at", "2014-12-04 20:46:57.696015"], ["user_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.9ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 641ms (Views: 11.3ms | ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/broadcasts
Completed 302 Found in 12ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0[0m
  [1m[35mFeed Load (0.2ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 298486374]]
  [1m[36mFeed Load (0.1ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mBroadcast Load (0.2ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (1.0ms)
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 25ms (Views: 22.7ms | ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mFeed Load (0.0ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 11ms (Views: 9.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "broadcasts"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('http://www.porfell.co.uk/assets/PICT0125.jpg All of the Capabara''s', 1, '2014-12-05 19:45:53', '2014-12-05 19:45:53', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "broadcasts" ("content", "user_id", "created_at", "updated_at", "id") VALUES ('http://www.porfell.co.uk/assets/PICT0125.jpg DAWWW', 1, '2014-12-05 19:45:53', '2014-12-05 19:45:53', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "feeds"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('twitter', '2014-12-05 19:45:53', '2014-12-05 19:45:53', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('facebook', '2014-12-05 19:45:53', '2014-12-05 19:45:53', 298486374)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('email', '2014-12-05 19:45:53', '2014-12-05 19:45:53', 113629430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('RSS', '2014-12-05 19:45:53', '2014-12-05 19:45:53', 281110143)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('atom', '2014-12-05 19:45:53', '2014-12-05 19:45:53', 1018350795)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "feeds" ("name", "created_at", "updated_at", "id") VALUES ('extension', '2014-12-05 19:45:53', '2014-12-05 19:45:53', 51848956)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "user_details"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "user_details" ("id", "login", "crypted_password", "user_id") VALUES (1, 'admin', 'password', 1)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("id", "surname", "firstname", "phone", "grad_year", "jobs", "email", "created_at", "updated_at") VALUES (1, 'Loftus', 'Chris', 622422, 1985, 'f', 'cwl@aber.ac.uk', '2014-12-05 19:45:53', '2014-12-05 19:45:53')[0m
  [1m[35m (3.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
BroadcastsControllerTest: test_should_create_broadcast
------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.1ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
Processing by BroadcastsController#create as HTML
  Parameters: {"broadcast"=>{"content"=>"http://www.porfell.co.uk/assets/PICT0125.jpg All of the Capabara's", "user_id"=>"1"}, "feeds"=>["twitter"]}
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: user_id
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "broadcasts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["content", "http://www.porfell.co.uk/assets/PICT0125.jpg All of the Capabara's"], ["created_at", "2014-12-05 19:45:53.468207"], ["updated_at", "2014-12-05 19:45:53.468207"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mFeed Load (0.2ms)[0m  SELECT  "feeds".* FROM "feeds"  WHERE "feeds"."name" = 'twitter' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "broadcasts_feeds" ("broadcast_id", "feed_id") VALUES (?, ?)  [["broadcast_id", 980190963], ["feed_id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/broadcasts?page=1
Completed 302 Found in 670ms (ActiveRecord: 2.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------
BroadcastsControllerTest: test_should_destroy_broadcast
-------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBroadcast Load (0.0ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "broadcasts"
Processing by BroadcastsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "broadcasts_feeds" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "broadcasts" WHERE "broadcasts"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/broadcasts
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "broadcasts"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
BroadcastsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.3ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 8 OFFSET 0
  [1m[36mFeed Load (0.1ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 298486374]]
  [1m[35mFeed Load (0.1ms)[0m  SELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?  [["broadcast_id", 980190962]]
  [1m[36mBroadcast Load (0.2ms)[0m  [1mSELECT  "broadcasts".* FROM "broadcasts"   ORDER BY created_at DESC LIMIT 1 OFFSET 0[0m
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (1.8ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 160ms (Views: 157.6ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
BroadcastsControllerTest: test_should_get_new
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#new as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.8ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 18ms (Views: 16.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
BroadcastsControllerTest: test_should_show_broadcast
----------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by BroadcastsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBroadcast Load (0.0ms)[0m  SELECT  "broadcasts".* FROM "broadcasts"  WHERE "broadcasts"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFeed Load (0.1ms)[0m  [1mSELECT "feeds".* FROM "feeds" INNER JOIN "broadcasts_feeds" ON "feeds"."id" = "broadcasts_feeds"."feed_id" WHERE "broadcasts_feeds"."broadcast_id" = ?[0m  [["broadcast_id", 980190962]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.9ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 13ms (Views: 11.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"cwl@aber.ac.uks", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uks' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "firstname", "grad_year", "phone", "surname", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-05 19:45:54.325679"], ["email", "cwl@aber.ac.uks"], ["firstname", "Chris"], ["grad_year", 1985], ["phone", "622422"], ["surname", "Loftus"], ["updated_at", "2014-12-05 19:45:54.325679"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/980190963?page=1
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mImage Load (0.4ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "user_details" WHERE "user_details"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users?page=1
Completed 302 Found in 9ms (ActiveRecord: 1.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mImage Load (0.1ms)[0m  [1mSELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUserDetail Load (0.1ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 26ms (Views: 24.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 6 OFFSET 0[0m
  [1m[35mImage Load (0.1ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY surname, firstname LIMIT 1 OFFSET 0[0m
  Rendered users/_users_list.html.erb (8.4ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered sessions/_login.html.erb (0.7ms)
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 18ms (Views: 16.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
Processing by UsersController#new as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 24ms (Views: 22.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.1ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/_show.html.erb (0.6ms)
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered sessions/_login.html.erb (0.5ms)
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.1ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1  [["id", 1]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"1", "email"=>"cwl@aber.ac.uk", "firstname"=>"Chris", "grad_year"=>"1985", "jobs"=>false, "phone"=>"622422", "surname"=>"Loftus"}, "id"=>"1"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT  "user_details".* FROM "user_details"  WHERE "user_details"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mImage Load (0.0ms)[0m  SELECT  "images".* FROM "images"  WHERE "images"."user_id" = ? LIMIT 1  [["user_id", 1]]
Unpermitted parameters: id
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'cwl@aber.ac.uk' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/1?page=1
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
UserTest: test_grad_year_date_range_between_1970_and_this_year
--------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl1@aber.ac.uk' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_invalid_with_empty_attributes
--------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------
UserTest: test_unique_email
---------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'cwl@aber.ac.uk' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
